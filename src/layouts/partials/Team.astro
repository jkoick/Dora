---
import AnimatedCircles from "@/components/AnimatedCircles.astro";
import DotTitle from "@/components/DotTitle.astro";
import TeamSlider from "@/components/TeamSlider.astro";
import { markdownify } from "@/lib/utils/textConverter";
import type { CollectionEntry } from "astro:content";
import { getEntry } from "astro:content";

const { team } = (
  (await getEntry("about", "-index")) as CollectionEntry<"about">
).data;
---

{
  team && team.enable && (
    <section class="section overflow-hidden">
      <div class="container-light relative">
        <div>
          {team.subtitle && (
            <div class="flex justify-center" data-aos="fade-up-sm">
              <DotTitle title={team.subtitle} />
            </div>
          )}
          {team.title && (
            <h2
              class="mb-6 lg:mb-12 text-center 2xl:col-10 mx-auto"
              data-aos="fade-up-sm"
              data-aos-delay="100"
              set:html={markdownify(team.title)}
            />
          )}
        </div>

        <TeamSlider members={team.members} />

        <div class="absolute right-0 bottom-0 translate-y-1/2 translate-x-1/2">
          <AnimatedCircles />
        </div>
      </div>
    </section>
  )
}
